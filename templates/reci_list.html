<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Recipe</title>
<style>
body {
  background-image: url('https://images.unsplash.com/photo-1607586848226-a40c68d785ca?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2100&q=80"');
  background-repeat: no-repeat;
  background-attachment: fixed; 
  background-size: cover;
}
</style>
	<!-- CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="../static/custom-style.css">

	<!-- jQuery and JS bundle w/ Popper.js -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
	</head>

<!-- if there no such dish exist -->
{% if dish %}
	{% if dish["totalResults"] == 0 %}
		<div class="container">
  <div class="row align-self-start">
    	<div class="col-3">
	<a href="/reci_list" ><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"/>
</svg></a>
</div>
<div class="col-8">
	</div>
	</div>
	</div>
	<h3 style="text-align: center;color:white"><strong>We can't find recipe, but here is a picture of a cute dog</strong></h3>
	<img class="mx-auto d-block" src='https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2098&q=80' alt="Card image cap" style="height:650px; width: 1000px;align-content: center;">
<!-- if the dish exist -->
{% else %}
	<div class="container">
  <div class="row align-self-start">
    	<div class="col-3">
	<a href="/" ><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"/>
</svg></a>
</div>
<div class="col-8">
	</div>
	</div>
	</div>
	<div class="container-md">
	<div class="row align-items-start">
	{% for item in dish["results"]%}
	<div class="col">
				<div class="card" style="width: 18rem;">
		  <img class="card-img-top" src= https://spoonacular.com/recipeImages/{{item["image"]}} alt="Card image cap">
		  <div class="card-body">
		    <h5 class="card-title">{{item['title']}}</h5>
		    <p class="card-text">You can make this in {{item['readyInMinutes']}} minutes</p>
		    <a href={{item['sourceUrl']}} class="card-link">Check more details</a>
		  </div>
		</div>
		</div>
		{% endfor %}
		</div>
		</div>
	{% endif %}
<!-- if user didn't put anything in -->
{% elif error%}
	<div class="container">
  <div class="row align-self-start">
    	<div class="col-3">
	<a href="/reci_list" ><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"/>
</svg></a>
</div>
<div class="col-8">
	</div>
	</div>
	</div>
	<h3 style="text-align: center;color:white"><strong>We can't find the recipe without the name, but here is a picture of dog</strong></h3>
	<img class="mx-auto d-block" src='https://images.unsplash.com/photo-1583512603806-077998240c7a?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=2098&q=80' alt="Card image cap" style="height:650px; width: 1000px;align-content: center;">
<!-- Main page to fill in the request -->
{% else %}
<div class="container">
  <div class="row align-self-start">
    	<div class="col-3">
	<a href="/" ><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"/>
</svg></a>
</div>
<div class="col-8">
	</div>
	</div>
	</div>
	<div class="form-row justify-content-center">
	<form action="/reci_list/feed" method="get">
		<label for="dishname" style="padding-top: 30px"><h3 style="color:white">Name of the dish:</h3></label>
		<input type="text" id="dishname" name="dishname" /><br />
		<small id="emailHelp" class="form-text text-muted" >Ex. Burger, spaghetti, chow mein</small>
</div>

  <div class="form-row justify-content-center"style="padding-top: 50px">
    <div class="form-group col-4">
      <label for="allergies">Allergy</label>
      <input type="text" class="form-control" id="allergies" name="allergies" placeholder="Allergy">
      		<small id="emailHelp" class="form-text text-muted" >Leave it blank if there is none, use comma to saperate items</small>
    </div>

    <div class="form-group col-4">
      <label for="diet">Diet</label>
      <input type="text" class="form-control" id="diet" name="diet" placeholder="Diet">
      		<small id="emailHelp" class="form-text text-muted" >Leave it blank if there is none, Ex.vegan, vegetarian</small>
    </div>
  </div>

  <div class="form-row justify-content-center" style="padding-top: 20px">
    <div class="form-group col-4">
      <label for="cuisine">Cuisine</label>
      <input type="text" class="form-control" id="cuisine" name ='cuisine' placeholder="Cuisine type">
      		<small id="emailHelp" class="form-text text-muted" >Leave it blank if there is none, Ex.Chinese, Italian</small>
    </div>
 <div class="form-group col-4">
      <label for="dish">Dish</label>
      <input type="text" class="form-control" id="dish" name = 'dish' placeholder="Dish type">
      		<small id="emailHelp" class="form-text text-muted" >What kind of dish you're looking for?(Leave it blank if you're looking for a main dish)</small>
    </div>
  </div>
<div class="row justify-content-center" style="padding-top: 80px">
    		<input type="submit" class="btn btn-primary" value="Give me the recipe" name="gobtn"/></form>
	</div>	
{% endif %}